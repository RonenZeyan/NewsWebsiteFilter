


{% extends 'base.html' %}
{% block cssLink %}<link rel="stylesheet" href="../static/css/style.css">
{% endblock %}
{% block body %}

    <div class="">
        <div class="flex flex-col items-center justify-center mt-5 mb-12">
            <h1 class="font-bold font-serif text-2xl">Filtered News Website</h1>
        </div>
        <div id="content-web-article" class="w-full m-auto border border-black border-2 mt-5 mb-12 rounded-xl">
            {% if html_code %}
            {{html_code|safe}}
            {% else %}
            <div class="flex flex-col font-bold justify-center items-center">
                <h1 class="text-2xl">Oops filtering not success</h1>
                <p>ensure the URL is fully and correct</p>
                <a class="bg-black p-2 text-white ronded my-2" href="{{url_for('FilterPageDetails')}}">go back to filtering page</a>
            </div>
            {% endif %}
        </div>
        <div class="hidden bg-white w-full rounded-lg p-16 shadow dark:border flex justify-center items-center h-[100vh]" id="loadingWait">
            <div ><span>&#x21bb;</span><br>Please wait...<br><b>filtering Proccess take some minutes</b></div>
        </div>
    </div>
        <script>
            //this event called before the user leave this page (the purpose to display waiting msg instead of the content of website)
            window.addEventListener('beforeunload',() =>{
             document.getElementById('loadingWait').classList.toggle('hidden')
             document.getElementById('content-web-article').classList.add('hidden')
            });
            
            window.addEventListener('pageshow',()=>{
                document.getElementById('loadingWait').classList.add('hidden')
             document.getElementById('content-web-article').classList.remove('hidden')
            });

            function expandButHandleClick(){
                document.getElementById('content-web-article').classList.toggle('w-full')
            }

        </script>

{% endblock %}

