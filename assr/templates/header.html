
{% block body %}

<div class="w-full bg-black h-16 text-white !important text-center flex items-center font-bold px-3">
    <!-- <span>nav in header</span> -->
    <a href="{{url_for('home')}}"><img class="h-[60px] w-[80px] mr-2" src="../static/images/logo.png" alt="">
    </a>
    <ul class="flex w-full gap-5 justify-between">
        <div class="flex gap-5">
            <li class="ml-3 text-white text-xl {{ 'bg-gray-600 rounded' if request.endpoint == 'home' else '' }} hover:bg-gray-600 rounded p-1"><a id="homeID" class="text-white text-xl" href="{{url_for('home')}}">home</a></li>
            {% if current_user.is_authenticated %}
            <li class="ml-3 text-white text-xl {{ 'bg-gray-600 rounded' if request.endpoint == 'FilterPageDetails' else '' }} hover:bg-gray-600 rounded p-1"><a class="text-white text-xl" href="{{url_for('FilterPageDetails')}}">Filtering</a></li>
            <li class="ml-3 text-white text-xl {{ 'bg-gray-600 rounded' if request.endpoint == 'history' else '' }} hover:bg-gray-600 rounded p-1"><a id="historyID" class="text-white text-xl" href="{{url_for('history')}}">History</a></li>
            {% endif%}
        </div>
        <div>
        <!-- in case user is logged in we display logout -->
            {% if current_user.is_authenticated %}  
            <div class="relative inline-block text-left">
                <div>
                  <button id="accountID" type="button" class="font-bold inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" aria-expanded="true" aria-haspopup="true">
                    Account
                    <svg class="-mr-1 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                    </svg>
                  </button>
                </div>
                <div id="accountListID" class="hidden absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="accountID" tabindex="-1">
                  <div class="py-1" role="none">
                    <a href="{{url_for('updateProfile')}}" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-200 flex justify-between" role="menuitem" tabindex="-1" id="menu-item-1"><p>Update profile</p><svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16.555 16.555" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path style="fill:#030104;" d="M6.409,7.421c0.034,0.207,0.114,0.337,0.193,0.42C6.789,9.084,7.83,10.24,8.781,10.24 c1.11,0,2.12-1.25,2.314-2.397c0.08-0.082,0.16-0.213,0.195-0.422c0.063-0.233,0.146-0.639,0.002-0.828 c-0.007-0.01-0.017-0.019-0.022-0.028c0.133-0.489,0.303-1.501-0.303-2.19C10.912,4.306,10.572,3.9,9.846,3.686L9.5,3.566 C8.928,3.39,8.568,3.35,8.553,3.349c-0.026-0.002-0.053,0-0.078,0.006C8.454,3.361,8.387,3.379,8.334,3.372 c-0.137-0.02-0.342,0.05-0.378,0.064C7.909,3.455,6.802,3.898,6.466,4.93C6.435,5.013,6.3,5.452,6.479,6.527 c-0.027,0.018-0.05,0.041-0.071,0.067C6.264,6.783,6.345,7.188,6.409,7.421z"></path> <path style="fill:#030104;" d="M12.33,10.637c0,0-0.045-0.015-0.114-0.037c-0.478-0.224-0.929-0.367-0.929-0.367 c-0.098-0.033-0.182-0.067-0.26-0.103c-0.322-0.159-0.592-0.34-0.648-0.51c0,0,0.188,1.81-1.395,1.851l-0.219-0.01 c-1.433-0.127-1.528-1.845-1.528-1.845c-0.15,0.471-1.952,1.019-1.952,1.019c-0.536,0.204-0.762,0.514-0.762,0.514 c-0.792,1.176-0.885,3.789-0.885,3.789c0.01,0.598,0.268,0.66,0.268,0.66c1.821,0.812,4.679,0.955,4.679,0.955 c0.154,0.004,0.298-0.004,0.441-0.013l0.003,0.015c0,0,2.858-0.145,4.679-0.957c0,0,0.258-0.063,0.269-0.658 c0,0-0.094-2.614-0.886-3.789C13.092,11.148,12.865,10.841,12.33,10.637z"></path> <path style="fill:#030104;" d="M10.316,9.698c0.021-0.026,0.041-0.052,0.063-0.078c-0.004-0.017-0.005-0.026-0.005-0.026 C10.356,9.632,10.336,9.661,10.316,9.698z"></path> <path style="fill:#030104;" d="M7.246,9.614L7.241,9.595L7.237,9.616c0.001-0.004,0.004-0.009,0.006-0.011 C7.243,9.605,7.244,9.607,7.246,9.614z"></path> <path style="fill:#030104;" d="M8.732,0C4.436,0,0.94,3.496,0.94,7.792c0,0.849,0.148,1.692,0.417,2.492l-0.702-0.157 c-0.277-0.065-0.55,0.111-0.612,0.388c-0.062,0.275,0.111,0.549,0.388,0.611l2.332,0.523c0.038,0.008,0.075,0.012,0.112,0.012 c0.234,0,0.446-0.162,0.5-0.399l0.499-2.221c0.062-0.276-0.112-0.55-0.387-0.612C3.208,8.368,2.937,8.54,2.875,8.816L2.706,9.571 C2.537,8.998,2.441,8.404,2.441,7.792c0-3.47,2.823-6.292,6.292-6.292s6.292,2.823,6.292,6.292c0,1.047-0.262,2.082-0.758,2.992 l1.318,0.717c0.614-1.131,0.939-2.412,0.939-3.709C16.524,3.496,13.028,0,8.732,0z"></path> </g> </g> </g></svg></a>
                    <a id="logoutID" href="{{url_for('logout')}}" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-200 flex justify-between" role="menuitem" tabindex="-1" id="menu-item-2"><p>logout</p><svg fill="#a30000" height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 384.971 384.971" xml:space="preserve" stroke="#a30000" stroke-width="38.4971"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g id="Sign_Out"> <path d="M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03 C192.485,366.299,187.095,360.91,180.455,360.91z"></path> <path d="M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279 c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179 c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"></path> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </g> </g></svg></a>
                  </div>
                </div>
              </div>
              
            <!-- else : mean that there are no user logged in then we display login  -->
            {% else %}
            <div class="flex justify-center items-center mr-3">
              <li class="mr-3 text-white border border-4 px-2 py-1 rounded-full border-gray-400 hover:border-gray-700 hover:text-gray-900"class="ml-3 text-white text-xl"><a class="text-white text-xl hover:text-gray-600" href="{{url_for('register')}}">Sign up</a></li>
            </div>
            {% endif %}
        </div>
    </ul>
    <div>
      <svg id="darkModeID" class="cursor-pointer ml-3 hidden" width="30px" height="30px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" stroke="#ffffff" transform="matrix(1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Lager_94" data-name="Lager 94" transform="translate(0)"> <path id="Path_70" data-name="Path 70" d="M12.516,4.509A12,12,0,0,0,22.3,19.881,12.317,12.317,0,0,0,24,20a11.984,11.984,0,0,0,3.49-.514,12.1,12.1,0,0,1-9.963,8.421A12.679,12.679,0,0,1,16,28,12,12,0,0,1,12.516,4.509M16,0a16.5,16.5,0,0,0-2.212.15A16,16,0,0,0,16,32a16.526,16.526,0,0,0,2.01-.123A16.04,16.04,0,0,0,31.85,18.212,16.516,16.516,0,0,0,32,15.944,1.957,1.957,0,0,0,30,14a2.046,2.046,0,0,0-1.23.413A7.942,7.942,0,0,1,24,16a8.35,8.35,0,0,1-1.15-.08,7.995,7.995,0,0,1-5.264-12.7A2.064,2.064,0,0,0,16.056,0Z" fill="#ffffff"></path> </g> </g></svg>
      <svg id="sunModeID" class="cursor-pointer ml-3" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 438.2 438.2" xml:space="preserve" width="30px" height="30px" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <circle style="fill:#F7CF52;" cx="219.097" cy="219.096" r="108.313"></circle> <rect x="211.6" y="348.358" style="fill:#F7CF52;" width="15" height="89.842"></rect> <rect x="211.6" style="fill:#F7CF52;" width="15" height="89.842"></rect> <rect x="88.442" y="297.342" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 -78.2323 652.1193)" style="fill:#F7CF52;" width="15" height="89.841"></rect> <rect x="334.765" y="51.011" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 516.4483 405.7837)" style="fill:#F7CF52;" width="15" height="89.841"></rect> <rect y="211.6" style="fill:#F7CF52;" width="89.842" height="15"></rect> <rect x="348.358" y="211.6" style="fill:#F7CF52;" width="89.842" height="15"></rect> <rect x="51.017" y="88.436" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 95.9381 231.6103)" style="fill:#F7CF52;" width="89.841" height="15"></rect> <rect x="297.342" y="334.758" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 342.2663 826.288)" style="fill:#F7CF52;" width="89.841" height="15"></rect> <g> <rect x="257.727" y="347.297" transform="matrix(-0.3826 -0.9239 0.9239 -0.3826 52.8494 744.91)" style="fill:#F4581B;" width="35.174" height="15"></rect> <rect x="145.305" y="75.898" transform="matrix(-0.3826 -0.9239 0.9239 -0.3826 148.1631 265.8043)" style="fill:#F4581B;" width="35.174" height="15"></rect> <rect x="155.389" y="337.208" transform="matrix(-0.9239 -0.3826 0.3826 -0.9239 177.6382 744.917)" style="fill:#F4581B;" width="15" height="35.174"></rect> <rect x="267.805" y="65.81" transform="matrix(-0.9239 -0.3826 0.3826 -0.9239 497.7542 265.7812)" style="fill:#F4581B;" width="15" height="35.174"></rect> <rect x="75.901" y="257.716" transform="matrix(-0.3826 -0.9239 0.9239 -0.3826 -139.0446 457.6895)" style="fill:#F4581B;" width="15" height="35.174"></rect> <rect x="347.296" y="145.3" transform="matrix(-0.3826 -0.9239 0.9239 -0.3826 340.0494 553.0082)" style="fill:#F4581B;" width="15" height="35.174"></rect> <rect x="65.814" y="155.39" transform="matrix(-0.9239 -0.3826 0.3826 -0.9239 98.1324 345.2949)" style="fill:#F4581B;" width="35.174" height="15"></rect> <rect x="337.211" y="267.802" transform="matrix(-0.9239 -0.3826 0.3826 -0.9239 577.2684 665.4034)" style="fill:#F4581B;" width="35.174" height="15"></rect> </g> </g> </g></svg>
    </div>
</div>
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="{{category}} text-center">
        {{message}}
    </div>
    {% endfor %}

    {% endif %}
    {% endwith %}

    <script>


      //here we make some listener for darkMode and sunMode Changing also we save the darkMode status in LocalStroage
      //localStroage meaning save in the browser storage (like cookies) 
      document.addEventListener('DOMContentLoaded', function(event) {
        if (localStorage.getItem('darkMode') === 'true') {
          document.getElementById('darkModeID').classList.remove('hidden');
          document.getElementById('sunModeID').classList.add('hidden');
        }
        else {
        document.documentElement.classList.remove('dark');
        document.getElementById('sunModeID').classList.remove('hidden');
        document.getElementById('darkModeID').classList.add('hidden');
        }

        
        //listener for click in sunMode
        document.getElementById('sunModeID').addEventListener('click',()=>{
          document.getElementById('darkModeID').classList.remove('hidden')
          document.getElementById('sunModeID').classList.add('hidden')
          document.documentElement.classList.add('dark');
          localStorage.setItem('darkMode', 'true');
        });

          //listener for click in darkMode
        document.getElementById('darkModeID').addEventListener('click',()=>{
          document.getElementById('sunModeID').classList.remove('hidden')
          document.getElementById('darkModeID').classList.add('hidden')
          document.documentElement.classList.remove('dark');
          localStorage.setItem('darkMode', 'false');
        });
        //listener for check if user click in account button in header, if clicked then display the list of update profile & logout
        document.getElementById('accountID').addEventListener('click', () => {
            document.getElementById('accountListID').classList.toggle('hidden'); //toggle for change status in every click (first click add second click remove or reverse)
        });
        
      });


    </script>
{% endblock %}